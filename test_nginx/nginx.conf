events {}

http {
    server {
        listen 8081; # Le port de comparaison
        server_name localhost;

        # Dossier racine (le même que ton serveur)
        root /var/www/html;
        index index.html;

        # Gestion des erreurs custom
        error_page 404 /404.html;

        # Limite de taille du body (ex: pour tester les uploads)
        client_max_body_size 10M;

        # Route par défaut
        location / {
            try_files $uri $uri/ =404;
            autoindex on; # Si tu dois gérer le listing de répertoires
        }

        # Exemple de redirection
        location /old-page {
            return 301 /new-page;
        }

        # Pour tester les méthodes autorisées (Limit except)
        location /post_body {
            limit_except POST {
                deny all;
            }
        }
        
        # Exemple pour les uploads (si pertinent pour ton projet)
        location /upload {
            alias /var/www/html/uploads;
            client_body_temp_path /var/www/html/tmp;
            dav_methods PUT DELETE;
            create_full_put_path on;
        }
    }
}